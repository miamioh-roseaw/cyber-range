{% extends "base.html" %}
{% block title %}Sign in{% endblock %}

{% block body %}
<div class="auth-wrap">
  <div class="auth-card">
    <h1>Sign in</h1>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flash">
          {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    {% if not auth_configured %}
      <p class="muted">
        Authentication is not configured. Set <code>AUTH_USERNAME</code> and
        <code>AUTH_PASSWORD_HASH</code> in your environment.
      </p>
    {% else %}
      <form method="post">
        <label>
          <span>Username</span>
          <input type="text" name="username" required />
        </label>
        <label>
          <span>Password</span>
          <input type="password" name="password" required />
        </label>
        <button type="submit">Sign in</button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}
